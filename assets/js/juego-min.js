const miModulo=(()=>{"use strict";let e=[],a=["C","D","H","S"],l=["A","K","Q","J"],t=[],r=document.querySelectorAll("button")[1],d=document.querySelectorAll("button")[0],n=document.querySelectorAll("button")[2],o=document.querySelectorAll(".div_cartas"),s=document.querySelectorAll("small"),c=(a=2)=>{e=i(),t=[];for(let l=0;l<a;l++)t.push(0);s.forEach(e=>e.innerHTML=0),o.forEach(e=>e.innerHTML=""),r.disabled=!1,n.disabled=!1},i=()=>{e=[];for(let t=2;t<=10;t++)for(let r of a)e.push(t+r);for(let d of a)for(let n of l)e.push(n+d);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No hay cartas en la baraja";return e.pop()},$=e=>{let a=e.substring(0,e.length-1);return isNaN(a)?"A"===a?11:10:1*a},b=(e,a)=>(t[a]=t[a]+$(e),s[a].innerHTML=t[a],t[a]),f=(e,a)=>{let l=document.createElement("img");l.src=`assets/cartas/${e}.png`,l.classList.add("carta"),o[a].append(l)},h=()=>{let[e,a]=t;setTimeout(()=>{a===e&&21!=a?alert("Haz perdido contra la poderosa IA :("):e>a&&e<=21?alert("BlackJack Haz Ganado!!!"):a>21&&e<=21?alert("BlackJack Haz Ganado!!!"):e>21?alert("Haz perdido, la IA manda!!!"):a>e&&a<=21?alert("Haz perdido, la IA manda!!!"):a<21&&e<=21&&alert("BlackJack Haz Ganado!!!")},1000)},p=e=>{let a=0;do{let l=u();a=b(l,t.length-1),f(l,t.length-1)}while(a<e&&e<=21);h()};return(//! Eventos
r.addEventListener("click",()=>{let e=u(),a=b(e,0);f(e,0),a>21?(console.warn("Haz perdido :'("),r.disabled=!0,n.disabled=!0,p(a)):21===a&&(console.warn("Ganaste"),r.disabled=!0,n.disabled=!0,p(a))}),n.addEventListener("click",()=>{r.disabled=!0,n.disabled=!0,p(t[0])}),d.addEventListener("click",()=>{c()}),{nuevoJuego:c})})();